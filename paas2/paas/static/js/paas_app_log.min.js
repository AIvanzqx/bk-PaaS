function callback_fun(t){if(!$("#func_list").val()){html=['<option value="">'+gettext("请选择")+"</option>"];for(i in t)t[i]==$.trim($("#func_list").val())?html.push('<option value="'+t[i]+'" selected="selected">'+t[i]+"</option>"):html.push('<option value="'+t[i]+'">'+t[i]+"</option>");$("#func_list").html(html.join(""))}}function enter_keyword(t){"13"==t.keyCode&&$("#j_display_all_app").click()}function delete_input(t){$(t).prev().val(""),$("#j_display_all_app").click()}function change_log_type(t){var e=$(t).val();if($("#func_list").val(""),"uwsgi"==e||"access"==e||"nginx"==e){var o='<option value="">'+gettext("全部")+'</option><option value="500">500 Internal Server Error</option><option value="200">200 OK </option><option value="404">404 Not Found </option><option value="50X">50X</option><option value="40X">40X</option><option value="30X">30X</option><option value="20X">20X</option>';$("#log_level").html(o),$("#msg_name").html("URI:&nbsp;")}else{var o='<option value="">'+gettext("全部")+'</option><option value="ERROR">ERROR</option><option value="INFO">INFO</option><option value="WARNING">WARNING</option><option value="DEBUG">DEBUG</option><option value="CRITICAL">CRITICAL</option>';$("#log_level").html(o),$("#msg_name").html(gettext("信息:"))}"django"==e||"component"==e?$(".func").show():$(".func").hide(),$(".level").show(),"uwsgi"==e||"nginx"==e?($(".order").show(),$("#timestamp").attr("selected","selected")):$(".order").hide()}function get_datepicker_config(){return{showDropdowns:!1,showWeekNumbers:!1,timePicker:!0,timePicker24Hour:!0,timePickerIncrement:1,timePickerSeconds:!0,dateLimit:{days:14},locale:{format:"YYYY-MM-DD HH:mm:ss",separator:gettext(" 至 "),applyLabel:gettext("确定"),cancelLabel:gettext("取消"),fromLabel:gettext("从"),toLabel:gettext("到"),weekLabel:gettext("周"),customRangeLabel:gettext("自定义"),daysOfWeek:[gettext("日"),gettext("一"),gettext("二"),gettext("三"),gettext("四"),gettext("五"),gettext("六")],monthNames:[gettext("一月"),gettext("二月"),gettext("三月"),gettext("四月"),gettext("五月"),gettext("六月"),gettext("七月"),gettext("八月"),gettext("九月"),gettext("十月"),gettext("十一月"),gettext("十二月")],firstDay:1},startDate:moment().subtract(5,"minutes"),endDate:moment(),minDate:moment().subtract(13,"days"),maxDate:moment().add(1,"hours"),opens:"right",drops:"down",buttonClasses:"btn btn-sm",applyClass:"btn-azure",cancelClass:"btn-cancel"}}function set_log_time(t,e,o){var i=t.format("YYYY-MM-DD HH:mm:ss"),n=e.format("YYYY-MM-DD HH:mm:ss");$("#log_time_begin").val(i),$("#log_time_end").val(n)}function alarm_invalid_page_number(){art.dialog({id:"bktips",width:300,icon:"warning",lock:!1,content:gettext("错误的搜索参数! 页码格式错误, 只能为正整数")})}$(function(){$("#datepicker").daterangepicker(get_datepicker_config(),set_log_time),$("#log_time").on("change",function(t){$("option:selected",this);if("diy"==this.value){$("#datepicker").daterangepicker(get_datepicker_config(),set_log_time),$("#datepicker").toggle(!0);var e=moment().subtract(5,"minutes").format("YYYY-MM-DD HH:mm:ss"),o=moment().format("YYYY-MM-DD HH:mm:ss");$("#log_time_begin").val(e),$("#log_time_end").val(o)}else $("#datepicker").toggle(!1),$("#log_time_begin").val(""),$("#log_time_end").val("")}),$("#j_display_all_app").click()});